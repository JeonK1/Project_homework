{% load static %}
<!doctype html>

<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="{% static 'set_relation.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'navbar.css' %}">
    <script type="text/javascript" src="{% static 'navbar.js' %}"></script>
    <script type="text/javascript" src="{% static 'set_relation.js' %}"></script>
    <script type="text/javascript" src="{% static 'jquery-3.5.1.min.js' %}"></script>
    <title>set_relation</title>
    <!-- post values -->
    <form method='post' action='/AI_Publisher/make_story/' target=_self style="display: none;" name="sendJson" id="sendJson">
        <input type='hidden' name='jsonData' id='jsonData' value="{{getJSONData}}"/>
    </form>
</head>
<body>
    <!--배경 및 프레임-->
    <div class="container" id="background">

        <!--노리스 아이콘 및 배경-->
        <div class="icon" id="noris_icon"></div>
        <div class="background" id="set_relation_background"></div>

        <!--텍스트-->
        <div class="text_box" id="text_box">
            <h3 class="text_deco" id="text1">등장 인물들의</h3><br>
            <h3 class="text_deco" id="text2">관계는 어떨까요?</h3>
        </div>

        <!--관계설정 단계-->
        <div class="deco" id="relation_line"></div>
        <div id="relation1_wrap" droppable="true" ondragover="onDragOver(event)" ondrop="onDrop(event)">
            <div class="relationship" id="relation1"></div>
            <div class="relation_text" id="relation1_text"></div>
        </div>
        <div id="relation2_wrap" droppable="true" ondragover="onDragOver(event)" ondrop="onDrop(event)">
            <div class="relationship" id="relation2"></div>
            <div class="relation_text" id="relation2_text"></div>
        </div>
        <div id="relation3_wrap" droppable="true" ondragover="onDragOver(event)" ondrop="onDrop(event)">
            <div class="relationship" id="relation3"></div>
            <div class="relation_text" id="relation3_text"></div>
        </div>
        <div id="relation4_wrap" droppable="true" ondragover="onDragOver(event)" ondrop="onDrop(event)">
            <div class="relationship" id="relation4"></div>
            <div class="relation_text" id="relation4_text"></div>
        </div>
        <div id="relation5_wrap" droppable="true" ondragover="onDragOver(event)" ondrop="onDrop(event)">
            <div class="relationship" id="relation5"></div>
            <div class="relation_text" id="relation5_text"></div>
        </div>



        <!--메인 캐릭터 출력-->
        <div class="character_card" id="main_card">
            <img class="card_img" id="main_character" src={{charMain.url}}>
        </div>
         <!--서브 캐릭터 출력-->
        <div class="character_selected_card" id="character_sub">
            <img class="card_img" id="characterSub"/>
        </div>

        <!--주인공 이외의 캐릭터 출력-->
        {% for character in charList %}
                <div class="character_card" id="character_{{forloop.counter}}" onclick="sendSubChar({{forloop.counter}})">
                    <img class="card_img" id="card_{{forloop.counter}}" src={{character.url}}>
                </div>
        {% endfor %}
        {{cardList}}
        <!--관계 설정 텍스트 출력-->
        <div class="relation_card_1" id="relation_card1" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >{{cardList}}</div>
        <div class="relation_card_1" id="relation_card2" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text2</div>
        <div class="relation_card_1" id="relation_card3" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text3</div>

        <div class="relation_card_2" id="relation_card4" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text4</div>
        <div class="relation_card_2" id="relation_card5" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text5</div>
        <div class="relation_card_2" id="relation_card6" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text6</div>
        <div class="relation_card_2" id="relation_card7" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text7</div>

        <div class="relation_card_3" id="relation_card8" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text8</div>
        <div class="relation_card_3" id="relation_card9" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text9</div>
        <div class="relation_card_3" id="relation_card10" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text10</div>
        <div class="relation_card_3" id="relation_card11" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text11</div>

        <div class="relation_card_4" id="relation_card12" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text12</div>
        <div class="relation_card_4" id="relation_card13" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text13</div>
        <div class="relation_card_4" id="relation_card14" draggable="true" ondragstart="onDragStart(event)" ondrag="onDrag(event)" >text14</div>

        <!--이전 페이지-->
        <div class="backpage" id="backpage_btn">
            <div class="backpage" id="backpage_arrow"></div>
            <div class="backpage" id="backpage_text">이전으로</div>
        </div>

        <!--다음 페이지-->
        <div class="nextpage" id="nextpage_btn" onclick="sendToNextPage()">
            <div class="nextpage" id="nextpage_arrow"></div>
            <div class="nextpage" id="nextpage_text">다음으로</div>
        </div>

    </div>
</body>

</html>